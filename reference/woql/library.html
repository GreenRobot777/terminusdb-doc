<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>Library Functions - TerminusDB Documentation</title><link rel="shortcut icon" href="/docs/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/docs/assets/css/just-the-docs.css"><link href="https://fonts.googleapis.com/css?family=Lexend+Deca&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.9/css/all.css" integrity="sha384-5SOiIsAziJl6AWe0HWRKTXlfcSHKmYV4RBF18PPJ173Kzn7jzMyFuTtk8JA7QQG1" crossorigin="anonymous"> <script type="text/javascript" src="/docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Library Functions | TerminusDB Documentation</title><meta name="generator" content="Jekyll v3.8.7" /><meta property="og:title" content="Library Functions" /><meta property="og:locale" content="en_US" /><meta name="description" content="Documentation for TerminusDB" /><meta property="og:description" content="Documentation for TerminusDB" /><link rel="canonical" href="/docs/reference/woql/library" /><meta property="og:url" content="/docs/reference/woql/library" /><meta property="og:site_name" content="TerminusDB Documentation" /> <script type="application/ld+json"> {"description":"Documentation for TerminusDB","@type":"WebPage","url":"/docs/reference/woql/library","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://terminusdb.com/img/logos/logo.svg"}},"headline":"Library Functions","@context":"https://schema.org"}</script> <script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"></script> <noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt=""/></noscript> <script> var _paq = window._paq || []; /* tracker methods like "setCustomDimension" should be called before "trackPageView" */ _paq.push(['disableCookies']); _paq.push(['trackPageView']); _paq.push(['enableLinkTracking']); (function() { var u="https://terminusdb.matomo.cloud/"; _paq.push(['setTrackerUrl', u+'matomo.php']); _paq.push(['setSiteId', '1']); var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript'; g.async=true; g.defer=true; g.src='//cdn.matomo.cloud/terminusdb.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s); })(); </script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="https://terminusdb.com/documentation" class="site-title lh-tight"><div class="site-logo"></div></a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item active"> <a href="https://terminusdb.com/documentation" class="navigation-list-link active">Home</a><li class="navigation-list-item"><li class="navigation-list-item"><a href="/docs/quickstart/" class="navigation-list-link">Quickstart Academy</a><li class="navigation-list-item"><a href="/docs/tutorials" class="navigation-list-link">Tutorials</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/tutorials/clone-tutorial/" class="navigation-list-link">My First Cloned Database</a><li class="navigation-list-item "><a href="/docs/tutorials/share-tutorial/" class="navigation-list-link">My First Shared Database</a><li class="navigation-list-item "><a href="/docs/tutorials/push-pull-tutorial/" class="navigation-list-link">Pushing and Pulling Changes</a><li class="navigation-list-item "><a href="/docs/tutorials/branch-tutorial/" class="navigation-list-link">Creating and Merging Branches</a><li class="navigation-list-item "><a href="/docs/tutorials/knowledge-graph/" class="navigation-list-link">Taking TerminusDB to the Bank</a><li class="navigation-list-item "><a href="/docs/tutorials/csv-tutorial/" class="navigation-list-link">Importing and Cleaning Data From CSVs</a></ul><li class="navigation-list-item active"><a href="/docs/reference/" class="navigation-list-link">Reference</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/reference/server" class="navigation-list-link">Server</a><li class="navigation-list-item "><a href="/docs/reference/js-client/" class="navigation-list-link">JS Client</a><li class="navigation-list-item "><a href="/docs/reference/python-client/" class="navigation-list-link">Python Client</a><li class="navigation-list-item "><a href="/docs/reference/bootstrap" class="navigation-list-link">Bootstrap</a><li class="navigation-list-item "><a href="/docs/reference/web-components" class="navigation-list-link">Console</a><li class="navigation-list-item active"><a href="/docs/reference/woql" class="navigation-list-link">WOQL.js - the Definitive Guide</a><ul class="navigation-list-grand-child-list"><li class="navigation-list-item active"> <a href="/docs/reference/woql/library" class="navigation-list-link active">Library Functions</a><li class="navigation-list-item "> <a href="/docs/reference/woql/nonprimitives" class="navigation-list-link">WOQL Non Primitives</a><li class="navigation-list-item "> <a href="/docs/reference/woql/primitives" class="navigation-list-link">WOQL Primitives</a></ul></ul><li class="navigation-list-item"><a href="/docs/how-tos" class="navigation-list-link">How Tos</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/how-tos/installation/" class="navigation-list-link">Installation</a><li class="navigation-list-item "><a href="/docs/how-tos/other-install/" class="navigation-list-link">Other ways of installing TerminusDB</a><li class="navigation-list-item "><a href="/docs/how-tos/manage-collaborators/" class="navigation-list-link">Manage Collaborators</a><li class="navigation-list-item "><a href="/docs/how-tos/synchronise/" class="navigation-list-link">Synchronising Changes</a><li class="navigation-list-item "><a href="/docs/how-tos/time-travel/" class="navigation-list-link">Time Travel</a><li class="navigation-list-item "><a href="/docs/how-tos/branch/" class="navigation-list-link">Create and Merge Branches</a><li class="navigation-list-item "><a href="/docs/how-tos/import-data/" class="navigation-list-link">Import and Clean Data</a><li class="navigation-list-item "><a href="/docs/how-tos/query/" class="navigation-list-link">Query</a><li class="navigation-list-item "><a href="/docs/how-tos/schema/" class="navigation-list-link">Create Schema</a><li class="navigation-list-item "><a href="/docs/how-tos/python" class="navigation-list-link">Python How Tos</a><li class="navigation-list-item "><a href="/docs/how-tos/beta/" class="navigation-list-link">Accessing TerminusHub with Bootstrap - Certificate Help</a></ul><li class="navigation-list-item"><a href="/docs/discussion" class="navigation-list-link">Discussion</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/discussion/baisc/" class="navigation-list-link">Basic Ideas</a><li class="navigation-list-item "><a href="/docs/discussion/collaboration/" class="navigation-list-link">Collaboration</a><li class="navigation-list-item "><a href="/docs/discussion/branch/" class="navigation-list-link">Branching and Merging</a><li class="navigation-list-item "><a href="/docs/discussion/storage/" class="navigation-list-link">Storage</a><li class="navigation-list-item "><a href="/docs/discussion/data-model/" class="navigation-list-link">Data Modeling</a><li class="navigation-list-item "><a href="/docs/discussion/query/" class="navigation-list-link">Querying</a><li class="navigation-list-item "><a href="/docs/discussion/reserach/" class="navigation-list-link">Research Papers</a></ul><li class="navigation-list-item"><a href="/docs/release-notes/" class="navigation-list-link">Release notes</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/release-notes/upgrade/" class="navigation-list-link">Upgrade</a></ul><li class="navigation-list-item"><a href="/docs/frequently-asked-questions/" class="navigation-list-link">FAQs</a></ul></nav></div><footer class="site-footer"><p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p></footer></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><header class="header header--dark"><div class="wrapper wrapper--increased"><nav class="menu"><div class="menu__body"><ul class="menu__list"><li class="menu__item"> <a href="https://terminusdb.com/docs/" target="_self" class="menu__link menu__link--active" aria-label="Documentation"> Documentation </a><li class="menu__item"> <a href="https://terminusdb.com/community/" target="_self" class="menu__link " aria-label="Community"> Community </a><li class="menu__item"> <a href="https://terminusdb.com/blog/" target="_self" class="menu__link" aria-label="Blog"> Blog </a><li class="menu__item"> <a href="https://terminusdb.com/hub/" target="_self" class="menu__link" aria-label="Blog"> Terminus Hub </a><li class="menu__item menu__item--full-devices"><ul class="menu__social-list"><li class="menu__social-item"> <a href="https://twitter.com/TerminusDB" class="menu__social-link" target="_blank"> <i class="icon-twitter menu__icon"></i> </a><li class="menu__social-item"> <a href="https://github.com/terminusdb/terminusdb-server" class="menu__social-link" target="_blank" aria-label="Github link"> <i class="icon-github-logo menu__icon"></i> </a><li class="menu__social-item"><a href="https://www.youtube.com/channel/UC5kZt8pP-FM0u-R0BQr78YA/featured" class="menu__social-link" target="_blank"><i class="icon-youtube menu__icon"></i></a><li class="menu__social-item"><a href="https://www.linkedin.com/company/terminusdb/" class="menu__social-link" target="_blank"><i class="icon-linkedin menu__icon"></i></a></ul><li class="menu__item menu__item--full-devices"> <a href="https://terminusdb.com/hub/download" target="_self" class="menu__button" aria-label="Download center"> Download Center </a></ul><ul class="menu__footer"><li class="menu__secondary-item"> <a href="https://terminusdb.com" role="button"> <img src="https://terminusdb.com/img/logos/logo.svg" class="menu__secondary-logo" alt="Terminus DB logo"> </a><li class="menu__secondary-item"><p class="menu__copyright"> ©2020 - TerminusDB | All right reserved</p></ul></div><button id="burger" class="menu__burger" role="button" aria-label="Navigation burger button"> <span></span> <span></span> <span></span> </button></nav></div></header><div class="page-header js-page-header"><div class="search"><div class="search-input-wrap"> <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search TerminusDB Documentation" aria-label="Search TerminusDB Documentation" autocomplete="off"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg></div><div class="js-search-results search-results-wrap"></div></div><ul class="list-style-none text-small aux-nav"><li class="d-inline-block my-0"><a href="https://terminusdb.com">TerminusDB Homepage</a></ul></div><div class="page"><nav class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/docs/reference/">Reference</a><li class="breadcrumb-nav-list-item"><a href="/docs/reference/woql">WOQL.js - the Definitive Guide</a><li class="breadcrumb-nav-list-item"><span>Library Functions</span></ol></nav><div id="main-content" class="page-content" role="main"><h1 id="library-functions"> <a href="#library-functions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Library Functions</h1><p>WOQL.js includes a standard library of pattern matching functions which provide a flexible way of extracting records about the system’s internal records without having to remember the predicates that are used under the hood.</p><p>Unlike other WOQL.js functions, library functions are not part of the WOQLQuery object - they are accessed through the lib() call. Library functions have a standard signature which makes them all accessible in the same way.</p><h2 id="standard-arguments"> <a href="#standard-arguments" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Standard Arguments</h2><p>All Library functions take the same three optional arguments.</p><ul><li><span class="param-type">Values</span><li><span class="param-type">Variables</span><li><span class="param-type">ResourceIdentifier</span></ul><p><span class="param-type-headings">Values</span></p><p>The values argument allows values to be passed for any of the internal variables which serve to constrain the query to a subset of the complete set. The Values argument comes in three forms:</p><ul><li>[…Value] - a list of specific values, where each entry sets the corresponding entry in the Variables list for the function. Any values that are not to be set can be omitted or set to null or false explicitly in which case no constraints will be applied.<div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nx">lib</span><span class="p">().</span><span class="nx">classes</span><span class="p">(</span><span class="dl">"</span><span class="s2">scm:Person</span><span class="dl">"</span><span class="p">)</span>
</code></pre></div></div><p>&lt;/div&gt; specifies that only the class with ID scm:Person will be matched</p><li><p>object - a json key-value object where the keys are the names of the variables to be set and the value is the value for that variable.</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nx">lib</span><span class="p">().</span><span class="nx">classes</span><span class="p">({</span><span class="dl">'</span><span class="s1">Class ID</span><span class="dl">'</span><span class="p">:</span> <span class="dl">"</span><span class="s2">scm:Person</span><span class="dl">"</span><span class="p">})</span>
</code></pre></div></div><p>&lt;/div&gt; specifies that only the class with ID scm:Person will be matched</p><li><p>WOQLQuery - a woql query which serves as a constraint on any variable mentioned in the query</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">let</span> <span class="p">[</span><span class="nx">clist</span><span class="p">]</span> <span class="o">=</span> <span class="nx">vars</span><span class="p">(</span><span class="dl">"</span><span class="s2">Class List</span><span class="dl">"</span><span class="p">)</span>
  <span class="nx">lib</span><span class="p">().</span><span class="nx">classes</span><span class="p">(</span><span class="nx">member</span><span class="p">(</span><span class="nx">clist</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">scm:Person</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">scm:Animal</span><span class="dl">'</span><span class="p">]))</span>
</code></pre></div></div><p>&lt;/div&gt; specifies that only the class with ID scm:Person and scm:Animal will be matched</p></ul><p><span class="param-type-headings">Variables</span></p><p>Each library function defines an internal list of variable names which are used by default to represent the results of the library query - the variables’ names can be overriden by passing in an alternative list of variable names. As with values, a null or false or an omitted variable means that the default will be used for that position</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">[</span><span class="nx">cid</span><span class="p">,</span> <span class="nx">cname</span><span class="p">]</span> <span class="o">=</span> <span class="nx">vars</span><span class="p">(</span><span class="dl">"</span><span class="s2">Class</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Class Label</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">lib</span><span class="p">().</span><span class="nx">classes</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="p">[</span><span class="nx">cid</span><span class="p">,</span> <span class="nx">cname</span><span class="p">])</span>
</code></pre></div></div><p><span class="param-type-headings">ResourceIdentifier</span></p><p>Each library query is associated with a specific graph - by default, the graph resource identifier is set to the appropriate graph of the current default database. This can be changed by setting the ResourceIdentifier argument to the desired graph.</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">classes</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="dl">'</span><span class="s1">schema/extra</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div><hr class="section-separator" /><h2 id="library-functions-with-standard-arguments"> <a href="#library-functions-with-standard-arguments" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Library Functions with Standard Arguments</h2><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">classes</span></div><p>Retreives a list of classes from the schema. For each class matched, the following properties are returned</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">classes</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<th>Prefix<tbody><tr><td><span class="param-type">Class ID </span><td>IRI of the class<td> <tr><td><span class="param-type">Class Name </span><td>Label of the Class<td>(rdfs:label)<tr><td><span class="param-type">Description </span><td>Description of the Class<td>(rdfs:comment)<tr><td><span class="param-type">Parents </span><td>Parent classes<td>(rdfs:subClassOf)<tr><td><span class="param-type">Children </span><td>Child classes<td>(rdfs:subClassOf)<tr><td><span class="param-type">Abstract </span><td>Abstract class designation<td>(system:tag system:abstract)</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the classes pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">[</span><span class="nx">cls</span><span class="p">]</span> <span class="o">=</span> <span class="nx">vars</span><span class="p">(</span><span class="dl">"</span><span class="s2">Class ID</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">lib</span><span class="p">().</span><span class="nx">classes</span><span class="p">(</span><span class="nx">eq</span> <span class="p">(</span><span class="nx">cls</span><span class="p">,</span> <span class="dl">'</span><span class="s1">scm:X</span><span class="dl">'</span><span class="p">))</span>
<span class="c1">//retrieves the class with IRI scm:X</span>

</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">properties</span></div><p>Retreives the list of properties from the schema. For each property matched, the following properties are returned</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">properties</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<th>Prefix<tbody><tr><td><span class="param-type">Property ID </span><td>IRI of the property<td> <tr><td><span class="param-type">Property Name </span><td>Label of the property<td>(rdfs:label)<tr><td><span class="param-type">Property Domain </span><td>Domain of the property<td>(rdfs:domain)<tr><td><span class="param-type">Property Type </span><td>Object Property or Data Property<td>(rdfs:subClassOf)<tr><td><span class="param-type">Property Range </span><td>Range of the property<td>(rdfs:range)<tr><td><span class="param-type">Property Description </span><td>Description<td>(rdfs:comment)</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the properties pattern matching expressionn</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">=</span> <span class="nx">vars</span><span class="p">(</span><span class="dl">"</span><span class="s2">Property Type</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">lib</span><span class="p">().</span><span class="nx">classes</span><span class="p">(</span><span class="nx">eq</span><span class="p">(</span><span class="nx">prop</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Object</span><span class="dl">'</span><span class="p">))</span>
<span class="c1">//retrieves all object properties</span>


</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">graphs</span></div><p>Retreives the list of graphs for the current database for each commit</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">graphs</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<th>Prefix<tbody><tr><td><span class="param-type">Graph ID </span><td>resource id of the graph<td> <tr><td><span class="param-type">Graph Type </span><td>schema or instance or inference<td> <tr><td><span class="param-type">Branch ID </span><td>id of the branch (if the commit is branch head<td>ref:branch_name)<tr><td><span class="param-type">Commit ID </span><td>id of the commit that points to the graph<td>(ref:commit_id)<tr><td><span class="param-type">Graph IRI </span><td>Graph IRI<td> <tr><td><span class="param-type">Branch IRI </span><td>Branch IRI<td> <tr><td><span class="param-type">Commit IRI </span><td>Commit IRI<td> </table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the graphs pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">[</span><span class="nx">br</span><span class="p">]</span> <span class="o">=</span> <span class="nx">vars</span><span class="p">(</span><span class="dl">"</span><span class="s2">Branch ID</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">lib</span><span class="p">().</span><span class="nx">graphs</span><span class="p">().</span><span class="nx">not</span><span class="p">().</span><span class="nx">eq</span><span class="p">(</span><span class="nx">br</span><span class="p">,</span> <span class="dl">''</span><span class="p">)</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">branches</span></div><p>Retreives the list of branches for the current database</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">branches</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<th>Prefix<tbody><tr><td><span class="param-type">Branch ID </span><td>resource id of the branch<td>(ref:branch)<tr><td><span class="param-type">Time </span><td>Time of last commit<td>(ref:commit_timestamp)<tr><td><span class="param-type">Commit ID </span><td>id of the commit that points to the graph<td>(ref:ref_commit)<tr><td><span class="param-type">Branch IRI </span><td>Branch IRI<td> <tr><td><span class="param-type">Commit IRI </span><td>Commit IRI<td> </table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the branches pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">[</span><span class="nx">ci</span><span class="p">]</span> <span class="o">=</span> <span class="nx">vars</span><span class="p">(</span><span class="dl">"</span><span class="s2">Branch ID</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">lib</span><span class="p">().</span><span class="nx">branches</span><span class="p">(</span><span class="nx">eq</span><span class="p">(</span><span class="nx">ci</span><span class="p">,</span> <span class="dl">'</span><span class="s1">main</span><span class="dl">'</span><span class="p">))</span>
<span class="c1">//retrieves branch with id main</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">objects</span></div><p>Retreives the list of object ids and their types</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">objects</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<tbody><tr><td><span class="param-type">Object Type </span><td>type of the object<tr><td><span class="param-type">Object ID </span><td>IRI of the object</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the objects pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">[</span><span class="nx">ot</span><span class="p">]</span> <span class="o">=</span> <span class="nx">vars</span><span class="p">(</span><span class="dl">"</span><span class="s2">Object Type</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">lib</span><span class="p">().</span><span class="nx">objects</span><span class="p">(</span><span class="nx">member</span><span class="p">(</span><span class="nx">ot</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">scm:Y</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">scm:Z</span><span class="dl">'</span><span class="p">]))</span>
<span class="c1">//retrieves all objects of type scm:Z and scm:Y</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">property values</span></div><p>Retreives the list of property values for objects in the database</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">property_values</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<tbody><tr><td><span class="param-type">Object ID </span><td>IRI of the object<tr><td><span class="param-type">Property ID </span><td>IRI of the property<tr><td><span class="param-type">Property Value </span><td>The value of the property (literal or JSON-LD document)<tr><td>&lt;span class=”param-type”Value ID &lt;/span&gt;<td>IRI of the value (object properties)<tr><td><span class="param-type">Value Class </span><td>Class of the value (object properties)</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the property values pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">[</span><span class="nx">p</span><span class="p">]</span> <span class="o">=</span> <span class="nx">vars</span><span class="p">(</span><span class="dl">"</span><span class="s2">Property ID</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">lib</span><span class="p">().</span><span class="nx">property_values</span><span class="p">(</span><span class="nx">eq</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="dl">'</span><span class="s1">rdf:type</span><span class="dl">'</span><span class="p">))</span>
<span class="c1">//retrieves all type properties from the DB</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">object metadata</span></div><p>Retreives the list of objects with metadata about their types</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">object_metadata</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<th>Prefix<tbody><tr><td><span class="param-type">Object ID </span><td>IRI of the object<td>(rdfs:label)<tr><td><span class="param-type">Description </span><td>Object description<td>(rdfs:comment)<tr><td><span class="param-type">Type ID </span><td>IRI of the type of the object<td>(rdf:type)<tr><td><span class="param-type">Type Name </span><td>Label of the type<td>(rdfs:label from schema)<tr><td><span class="param-type">Type Description </span><td>Description of the type<td>(rdfs:comment from schema)</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the object metadata pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="p">[</span><span class="nx">t</span><span class="p">]</span> <span class="o">=</span> <span class="nx">vars</span><span class="p">(</span><span class="dl">"</span><span class="s2">Type ID</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">lib</span><span class="p">().</span><span class="nx">object_metadata</span><span class="p">(</span><span class="nx">eq</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="dl">'</span><span class="s1">scm:Z</span><span class="dl">'</span><span class="p">))</span>
<span class="c1">//retrieves all objects of type scm:Z with their metadata</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">property metadata</span></div><p>Retreives the list of properties with metadata about their types</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">property_metadata</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<th>Prefix<tbody><tr><td><span class="param-type">Object ID </span><td>IRI of the object<td>(rdfs:label)<tr><td><span class="param-type">Property ID </span><td>IRI of the property<td> <tr><td><span class="param-type">Property Name </span><td>Property label<td>(rdfs:label)<tr><td><span class="param-type">Property Value </span><td>Property Value<td> <tr><td><span class="param-type">Property Description </span><td>Property description<td>(rdfs:comment )</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the property metadata pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">property_metadata</span><span class="p">()</span>

<span class="c1">//retrieves all objects of type scm:Z with their metadata    </span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">commits</span></div><p>Retreives the list of commits</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">commits</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<tbody><tr><td><span class="param-type">Commit ID </span><td>ID of the commit<tr><td><span class="param-type">Commit IRI </span><td>IRI of the commit<tr><td><span class="param-type">Time </span><td>timestamp of commit<tr><td><span class="param-type">Author </span><td>Author of commit<tr><td><span class="param-type">Message </span><td>commit message<tr><td><span class="param-type">Parent ID </span><td>Commit ID of parent commit<tr><td><span class="param-type">Parent IRI </span><td>IRI of parent commit<tr><td><span class="param-type">Children </span><td>Array of child commits</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the commits pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">commits</span><span class="p">()</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">commit chain</span></div><p>Retrieves chains of commits from one commit to another</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">commit_chain</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<tbody><tr><td><span class="param-type">Head IRI </span><td>IRI of commit as chain starting point<tr><td><span class="param-type">Tail IRI </span><td>IRI of commit as chain ending point<tr><td><span class="param-type">Path </span><td>Path traversed from head to tail</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the commit chain pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">commit_chain</span><span class="p">()</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">repos</span></div><p>Retrieves information about remotes and their repositories in the repository graph</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">repos</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<tbody><tr><td><span class="param-type">Repository IRI </span><td>IRI of commit as chain starting point<tr><td><span class="param-type">Repository Name </span><td>name of the repositoriy (ref:repository_name)<tr><td><span class="param-type">Path </span><td>Path traversed from head to tail</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the repository pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">repos</span><span class="p">(</span><span class="kc">false</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="dl">"</span><span class="s2">admin/MyTestDB/_meta</span><span class="dl">"</span><span class="p">)</span>
<span class="c1">//note: the resource id for repository graphs must be specified explicitly for the db</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">dbs</span></div><p>Retrieves information about the databases on the server</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">dbs</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<tbody><tr><td><span class="param-type">DB Name </span><td>Name of the database (system:database_name)<tr><td><span class="param-type">DB ID </span><td>IRI of the database document<tr><td><span class="param-type">Organization </span><td>ID of the organization that owns the DB<tr><td><span class="param-type">Description </span><td>Description of the DB<tr><td><span class="param-type">DB IRI </span><td>IRI of the database document in the system graph<tr><td><span class="param-type">Organization IRI </span><td>IRI of the organization document in the system graph</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the database pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">dbs</span><span class="p">()</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">prefixes</span></div><p>Retrieves the list of IRI prefixes in use in the DB</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">prefixes</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<tbody><tr><td><span class="param-type">Prefix </span><td>The prefix string (eg. doc)<tr><td><span class="param-type">URI </span><td>The full URI/IRI that the prefix refers to<tr><td><span class="param-type">Prefix Pair IRI </span><td>the IRI of the document that contains the prefix / URL</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the prefix pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">prefixes</span><span class="p">()</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">insert prefix</span></div><p>Inserts a new prefix pair into the database</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">insert_prefix</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">Values </span><td>must contain [prefix, IRI] as either variables or string literals<td>Mandatory<tr><td><span class="param-type">Variables </span><td>single variable, default is: <br />Prefix Pair IRI - variable which will contain the generated IRI of the prefix pair<td>Mandatory</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the prefix insertion expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">insert_prefix</span><span class="p">([</span><span class="dl">'</span><span class="s1">foaf</span><span class="dl">'</span><span class="p">,</span> <span class="dl">"</span><span class="s2">http://xmlns.com/foaf/0.1/</span><span class="dl">"</span><span class="p">])</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">document classes</span></div><p>Retrieves the list of document classes from the DB</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">document_classes</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<th>Prefix<tbody><tr><td><span class="param-type">Class ID </span><td>IRI of the class<td> <tr><td><span class="param-type">Class Name </span><td>Label of the Class<td>(rdfs:label)<tr><td><span class="param-type">Description </span><td>Description<td>(rdfs:comment)<tr><td><span class="param-type">Parents </span><td>Parents classes<td>(rdfs:subClassOf)<tr><td><span class="param-type">Child </span><td>Child classes<td>(rdfs:subClassOf)<tr><td><span class="param-type">Abstract</span><td>Abstract class designation<td>(system:tag system:abstract)</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the classes pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">document_classes</span><span class="p">()</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">concrete document classes</span></div><p>Retrieves the list of non-abstract document classes from the DB</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">concrete_document_classes</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<th>Prefix<tbody><tr><td><span class="param-type">Class ID </span><td>IRI of the class<td> <tr><td><span class="param-type">Class Name </span><td>Label of the Class<td>(rdfs:label)<tr><td><span class="param-type">Description </span><td>Description<td>(rdfs:comment)<tr><td><span class="param-type">Parents </span><td>Parents classes<td>(rdfs:subClassOf)<tr><td><span class="param-type">Child </span><td>Child classes<td>(rdfs:subClassOf)<tr><td><span class="param-type">Abstract</span><td>Abstract class designation<td>(system:tag system:abstract)</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the classes pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">concrete_document_classes</span><span class="p">()</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">document metadata</span></div><p>Retreives the list of documents with metadata about their types</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">document_metadata</span> <span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<th>Prefix<tbody><tr><td><span class="param-type">Document ID </span><td>IRI of the document<td> <tr><td><span class="param-type">Name </span><td>document label<td>(rdfs:label)<tr><td><span class="param-type">Description </span><td>Description<td>(rdfs:comment)<tr><td><span class="param-type">Type ID </span><td>IRI of the type of the document<td>(rdf:type)<tr><td><span class="param-type">Type Name </span><td>Label of the type<td>(rdfs:label from schema)<tr><td><span class="param-type">Type Description</span><td>Description of the type<td>(rdfs:comment from schema)</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the object metadata pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">document_metadata</span><span class="p">()</span>    
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">documents</span></div><p>Retreives the list of document ids and their types</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">documents</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">Variables</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Default Variables:</div><div class="table-wrapper"><table><thead><tr><th>Variables<th>Description<tbody><tr><td><span class="param-type">Document Type </span><td>type of the document<tr><td><span class="param-type">Document ID </span><td>IRI of the document</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the objects pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">documents</span><span class="p">()</span>
</code></pre></div></div><hr class="section-separator" /><h2 id="commit-graph-navigation"> <a href="#commit-graph-navigation" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Commit Graph Navigation</h2><p>The WOQL.js library also provides a set of functions for navigation of the commit graph by branch, time and commit id. These functions do not take the same arguments as the standard functions above. There are two flavours of all graph navigation functions - one that returns all the meta-data for each commit, the other that returns only the commit ids - to allow these functions to be conveniently joined with other queries and filters.</p><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">commit chain full</span></div><p>Retreives the commit chain with full details of all commits (combines commits() and commit_chain())</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">commit_chain_full</span><span class="p">(</span><span class="nx">Values</span><span class="p">,</span> <span class="nx">ResourceIdentifier</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">Values </span><td>values array as per standard arguments<td>Mandatory<tr><td><span class="param-type">ResourceIdentifier </span><td>graph identifier (defaults to _commits)<td>Mandatory</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the full commit chain pattern matching expression</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">commit_chain_full</span><span class="p">()</span>   
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">first commit</span></div><p>Retreives information about the first commit in the database</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">first_commit</span><span class="p">()</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><p>None - variable names are as per commits() function above</p><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the first commit pattern matching expression: returns the same variables as the lib().commits() function</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">first_commit</span><span class="p">()</span>  
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">active commit</span></div><p>Retrieves the details of the commit that was active at the given timestamp on the given branch</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">active_commit</span><span class="p">(</span><span class="nx">BranchID</span><span class="p">,</span> <span class="nx">Timestamp</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">BranchID </span><td>(string*) - the id of the branch to aim for (for disambiguation when there are multiple child commits)<td>Mandatory<tr><td><span class="param-type">Timestamp </span><td>(string or decimal) - the timestamp (or variable containing the timestamp) of interest - defaults to now<td>Mandatory</table></div><div class="anchor-sub-parts">Arguments:</div><p>None - variable names are as per commits() function above</p><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the active commit pattern matching expression: returns the same variables as the lib().commits() function</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">active_commit</span><span class="p">(</span><span class="dl">'</span><span class="s1">main</span><span class="dl">'</span><span class="p">)</span>    
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">commit history</span></div><p>Retreives the metadata for the passed CommitID and its parent commits - up to a total of Count steps (including the passed CommitID)</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">commit_history</span><span class="p">(</span><span class="nx">CommitID</span><span class="p">,</span> <span class="nx">Count</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">CommitID </span><td>(string*) - the id of the commit to retrieve the history starting from (included in results)<td>Mandatory<tr><td><span class="param-type">Count </span><td>(string or integer) - an integer or variable containing an integer representing the number of steps to include in the commit history - defaults to 10<td>Optional</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the commit history pattern matching expression: returns the same variables as the lib().commits() function for each entry</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">and</span><span class="p">(</span>
	<span class="nx">lib</span><span class="p">().</span><span class="nx">active_commit_id</span><span class="p">(</span><span class="dl">'</span><span class="s1">main</span><span class="dl">'</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Current Head ID</span><span class="dl">"</span><span class="p">),</span>
	<span class="nx">lib</span><span class="p">().</span><span class="nx">commit_history</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Current Head ID</span><span class="dl">"</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">)</span>

</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">commit history</span></div><p>Retreives the metadata for the parent commits of the passed CommitID - up to a total of Count steps (not including the passed CommitID)</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">previous_commits</span><span class="p">(</span><span class="nx">CommitID</span><span class="p">,</span> <span class="nx">Count</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">CommitID </span><td>(string*) - the id of the commit to retrieve the previous commits starting from (not included in results)<td>Mandatory<tr><td><span class="param-type">Count </span><td>(string or integer) - an integer or variable containing an integer representing the number of steps to include in the commit history - defaults to 1<td>Optional</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the previous commits pattern matching expression: returns the same variables as the lib().commits() function for each entry</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">and</span><span class="p">(</span>
	<span class="nx">lib</span><span class="p">().</span><span class="nx">active_commit_id</span><span class="p">(</span><span class="dl">'</span><span class="s1">main</span><span class="dl">'</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Current Head ID</span><span class="dl">"</span><span class="p">),</span>
	<span class="nx">lib</span><span class="p">().</span><span class="nx">previous_commits</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Current Head ID</span><span class="dl">"</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">)</span>

</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">commit future</span></div><p>Retreives the metadata for the passed CommitID and its future commits on branch BranchID - up to a total of Count steps (including the passed CommitID)</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">commit_future</span><span class="p">(</span><span class="nx">CommitID</span><span class="p">,</span> <span class="nx">BranchID</span><span class="p">,</span> <span class="nx">Count</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">CommitID </span><td>(string*) - the id of the commit to retrieve the future starting from (included in results)<td>Mandatory<tr><td><span class="param-type">BranchID </span><td>(string*) - the id of the branch to aim for (for disambiguation when there are multiple child commits)<td>Mandatory<tr><td><span class="param-type">Count </span><td>(string or integer) - an integer or variable containing an integer representing the number of steps to include in the commit future - defaults to 10<td>Optional</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the commit history pattern matching expression: returns the same variables as the lib().commits() function for each entry</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">commit_future</span><span class="p">(</span><span class="dl">'</span><span class="s1">bi1qqga9sxlzgvv061b3zpe48mmjtbb</span><span class="dl">'</span><span class="p">,</span> <span class="dl">"</span><span class="s2">main</span><span class="dl">"</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">next commits</span></div><p>Retreives the metadata for child commits of the passed CommitID on branch BranchID - up to a total of Count steps (not including the passed CommitID)</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">next_commits</span><span class="p">(</span><span class="nx">CommitID</span><span class="p">,</span> <span class="nx">BranchID</span><span class="p">,</span> <span class="nx">Count</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">CommitID </span><td>(string*) -the id of the commit to retrieve the next commits starting from (not included in results)<td>Mandatory<tr><td><span class="param-type">BranchID </span><td>the id of the branch to aim for (for disambiguation when there are multiple child commits)<td>Mandatory<tr><td><span class="param-type">Count </span><td>(string or integer) - an integer or variable containing an integer representing the number of steps to include in the commit future - defaults to 1<td>Optional</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the commit history pattern matching expression: returns the same variables as the lib().commits() function for each entry</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">next_commits</span><span class="p">(</span><span class="dl">'</span><span class="s1">bi1qqga9sxlzgvv061b3zpe48mmjtbb</span><span class="dl">'</span><span class="p">,</span> <span class="dl">"</span><span class="s2">main</span><span class="dl">"</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>

</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">active commit id</span></div><p>Retrieves the ID of the commit that was active at the given timestamp on the given branch - result is stored in CommitIDVar</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">active_commit_id</span><span class="p">(</span><span class="nx">CommitID</span><span class="p">,</span> <span class="nx">Timestamp</span><span class="p">,</span> <span class="nx">CommitIDVar</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">CommitID </span><td>(string*) - the id of the commit to retrieve the history for<td>Mandatory<tr><td><span class="param-type">Timestamp </span><td>(string or decimal) - the Unix timestamp (or variable containing the timestamp) of interest - defaults to now<td>Optional<tr><td><span class="param-type">CommitIDVar </span><td>(string) - the name of the variable in which to store the matched IDs (defaults to “Commit ID”)<td>Optional</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the pattern matching expression: returns one row per CommitIDVar value</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">active_commit_id</span><span class="p">(</span><span class="dl">'</span><span class="s1">main</span><span class="dl">'</span><span class="p">)</span>

</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">history ids</span></div><p>Retrieves the ids of the passed CommitID and the ids of its parents - up to a total of count ids (including the passed CommitID), the results are stored in CommitIDVar</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">history_ids</span><span class="p">(</span><span class="nx">CommitID</span><span class="p">,</span> <span class="nx">Count</span><span class="p">,</span> <span class="nx">CommitIDVar</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">CommitID </span><td>(string*) - the id of the commit to retrieve the history for<td>Mandatory<tr><td><span class="param-type">Count </span><td>(string or integer) - an integer or variable containing an integer representing the number of steps to include in the commit history - defaults to 10<td>Optional<tr><td><span class="param-type">CommitIDVar </span><td>(string) - the name of the variable in which to store the matched IDs (defaults to “Commit ID”)<td>Optional</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the pattern matching expression: returns one row per CommitIDVar value</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">and</span><span class="p">(</span>
	<span class="nx">lib</span><span class="p">().</span><span class="nx">active_commit_id</span><span class="p">(</span><span class="dl">'</span><span class="s1">main</span><span class="dl">'</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Current Head ID</span><span class="dl">"</span><span class="p">),</span>
	<span class="nx">lib</span><span class="p">().</span><span class="nx">history_ids</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Current Head ID</span><span class="dl">"</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">)</span>

</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings">previous commit ids</span></div><p>Retrieves the ids of the parent commits of the passed CommitID - up to a total of count ids (not including the passed CommitID), the results are stored in CommitIDVar</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">previous_commit_ids</span><span class="p">(</span><span class="nx">CommitID</span><span class="p">,</span> <span class="nx">Count</span><span class="p">,</span> <span class="nx">CommitIDVar</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">CommitID </span><td>(string*) - the id of the commit to retrieve the previous commits starting fromthe id of the commit to retrieve the history for<td>Mandatory<tr><td><span class="param-type">Count </span><td>(string or integer) - an integer or variable containing an integer representing the number of steps to include in the commit history - defaults to 10<td>Optional<tr><td><span class="param-type">CommitIDVar </span><td>(string) - the name of the variable in which to store the matched IDs (defaults to “Commit ID”)<td>Optional</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the pattern matching expression: returns one row per CommitIDVar value</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">and</span><span class="p">(</span>
	<span class="nx">lib</span><span class="p">().</span><span class="nx">active_commit_id</span><span class="p">(</span><span class="dl">'</span><span class="s1">main</span><span class="dl">'</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Current Head ID</span><span class="dl">"</span><span class="p">),</span>
	<span class="nx">lib</span><span class="p">().</span><span class="nx">previous_commit_ids</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Current Head ID</span><span class="dl">"</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings"> future ids</span></div><p>Retrieves the ids of the passed CommitID and the ids of its parents - up to a total of count ids (including the passed CommitID), the results are stored in CommitIDVar</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">future_ids</span><span class="p">(</span><span class="nx">CommitID</span><span class="p">,</span> <span class="nx">BranchID</span><span class="p">,</span> <span class="nx">Count</span><span class="p">,</span> <span class="nx">CommitIDVar</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">CommitID </span><td>(string*) - the id of the commit to retrieve the history for<td>Mandatory<tr><td><span class="param-type">BranchID </span><td>(string*) - the id of the branch to aim for (for disambiguation when there are multiple child commits)<td>Mandatory<tr><td><span class="param-type">Count </span><td>(string or integer) - an integer or variable containing an integer representing the number of steps to include in the commit history - defaults to 10<td>Optional<tr><td><span class="param-type">CommitIDVar </span><td>(string) - the name of the variable in which to store the matched IDs (defaults to “Commit ID”)<td>Mandatory</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the pattern matching expression: returns one row per CommitIDVar value</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">future_ids</span><span class="p">(</span><span class="dl">"</span><span class="s2">bi1qqga9sxlzgvv061b3zpe48mmjtbb</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">main</span><span class="dl">"</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></div><hr class="section-separator" /><div class="anchor-sub-headings-style"> <span class="anchor-sub-headings"> next commit ids</span></div><p>Retrieves the ids of the child commits of the passed CommitID - up to a total of count ids (not including the passed CommitID), the results are stored in CommitIDVar</p><div class="anchor-sub-parts">Syntax</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">next_commit_ids</span><span class="p">(</span><span class="nx">CommitID</span><span class="p">,</span> <span class="nx">BranchID</span><span class="p">,</span> <span class="nx">Count</span><span class="p">,</span> <span class="nx">CommitIDVar</span><span class="p">)</span>
</code></pre></div></div><div class="anchor-sub-parts">Arguments:</div><div class="table-wrapper"><table><thead><tr><th>Arguments<th>Types<th>Requirement<tbody><tr><td><span class="param-type">CommitID </span><td>(string*) - the id of the commit to retrieve the history for<td>Mandatory<tr><td><span class="param-type">BranchID </span><td>(string*) - the id of the branch to aim for (for disambiguation when there are multiple child commits)<td>Mandatory<tr><td><span class="param-type">Count </span><td>(string or integer) - an integer or variable containing an integer representing the number of steps to include in the commit chain - defaults to 1<td>Optional<tr><td><span class="param-type">CommitIDVar </span><td>(string) - the name of the variable in which to store the matched IDs (defaults to “Commit ID”)<td>Mandatory</table></div><div class="anchor-sub-parts">Returns</div><p>WOQLQuery containing the pattern matching expression: returns one row per CommitIDVar value</p><div class="anchor-sub-parts">Example</div><div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">lib</span><span class="p">().</span><span class="nx">next_commit_ids</span><span class="p">(</span><span class="dl">"</span><span class="s2">bi1qqga9sxlzgvv061b3zpe48mmjtbb</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">main</span><span class="dl">"</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></div><hr class="section-separator" /><hr><footer role="contentinfo"><p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2020 - TerminusDB | Distributed by an <a href="https://github.com/terminusdb/terminusdb-server/blob/master/LICENSE">GPL-3.0 license.</a></p></footer></div></div></div></div><script> var o = document.querySelector(".header"), i = document.querySelector(".menu__body"), a = document.querySelector("#burger"); a && a.addEventListener("click", function () { a.classList.toggle("active"), o.classList.toggle("active"), i.classList.toggle("active"); }); window.addEventListener('resize',function(){ a.classList.remove("active"), o.classList.remove("active"), i.classList.remove("active"); }) </script>
