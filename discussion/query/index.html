<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><title>Querying - Graph Database Documentation</title><link rel="shortcut icon" href="/docs/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/docs/assets/css/just-the-docs.css"><link href="https://fonts.googleapis.com/css?family=Lexend+Deca&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.9/css/all.css" integrity="sha384-5SOiIsAziJl6AWe0HWRKTXlfcSHKmYV4RBF18PPJ173Kzn7jzMyFuTtk8JA7QQG1" crossorigin="anonymous"> <script type="text/javascript" src="/docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/docs/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Querying | Graph Database Documentation</title><meta name="generator" content="Jekyll v3.8.7" /><meta property="og:title" content="Querying" /><meta property="og:locale" content="en_US" /><meta name="description" content="TerminusDB - Quick start tutorials and how to’s for the graph database management system" /><meta property="og:description" content="TerminusDB - Quick start tutorials and how to’s for the graph database management system" /><link rel="canonical" href="/docs/discussion/query/" /><meta property="og:url" content="/docs/discussion/query/" /><meta property="og:site_name" content="Graph Database Documentation" /> <script type="application/ld+json"> {"description":"TerminusDB - Quick start tutorials and how to’s for the graph database management system","@type":"WebPage","url":"/docs/discussion/query/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://terminusdb.com/img/logos/logo.svg"}},"headline":"Querying","@context":"https://schema.org"}</script> <script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"></script> <noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt=""/></noscript> <script> var _paq = window._paq || []; /* tracker methods like "setCustomDimension" should be called before "trackPageView" */ _paq.push(['disableCookies']); _paq.push(['trackPageView']); _paq.push(['enableLinkTracking']); (function() { var u="https://terminusdb.matomo.cloud/"; _paq.push(['setTrackerUrl', u+'matomo.php']); _paq.push(['setSiteId', '1']); var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript'; g.async=true; g.defer=true; g.src='//cdn.matomo.cloud/terminusdb.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s); })(); </script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="link" viewBox="0 0 16 16"><title>Link</title><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path> </symbol> </svg><div class="page-wrap"><div class="side-bar"><div class="site-header"> <a href="https://terminusdb.com" class="site-title lh-tight"><div class="site-logo"></div></a> <button class="menu-button fs-3 js-main-nav-trigger" data-text-toggle="Hide" type="button">Menu</button></div><div class="navigation main-nav js-main-nav"><nav role="navigation" aria-label="Main navigation"><ul class="navigation-list"><li class="navigation-list-item active"> <a href="https://terminusdb.com/documentation" class="navigation-list-link active">Home</a><li class="navigation-list-item active"><li class="navigation-list-item"><a href="/docs/quickstart/" class="navigation-list-link">Quickstart Academy</a><li class="navigation-list-item"><a href="/docs/tutorials" class="navigation-list-link">Graph Database Tutorials - TerminusDB Documentation</a><ul class="navigation-list-child-list "></ul><li class="navigation-list-item"><a href="/docs/reference/" class="navigation-list-link">Reference</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/reference/server" class="navigation-list-link">Server</a><li class="navigation-list-item "><a href="/docs/reference/js-client/" class="navigation-list-link">JS Client</a><li class="navigation-list-item "><a href="/docs/reference/python-client/" class="navigation-list-link">Python Client</a><li class="navigation-list-item "><a href="/docs/reference/bootstrap" class="navigation-list-link">Bootstrap</a><li class="navigation-list-item "><a href="/docs/reference/web-components" class="navigation-list-link">Console</a><li class="navigation-list-item "><a href="/docs/reference/woql" class="navigation-list-link">WOQL.js - the Definitive Guide</a></ul><li class="navigation-list-item"><a href="/docs/how-tos" class="navigation-list-link">How Tos</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/how-tos/installation/" class="navigation-list-link">Installation</a><li class="navigation-list-item "><a href="/docs/how-tos/other-install/" class="navigation-list-link">Other ways of installing TerminusDB</a><li class="navigation-list-item "><a href="/docs/how-tos/manage-collaborators/" class="navigation-list-link">Manage Collaborators</a><li class="navigation-list-item "><a href="/docs/how-tos/synchronise/" class="navigation-list-link">Synchronising Changes</a><li class="navigation-list-item "><a href="/docs/how-tos/time-travel/" class="navigation-list-link">Time Travel</a><li class="navigation-list-item "><a href="/docs/how-tos/branch/" class="navigation-list-link">Create and Merge Branches</a><li class="navigation-list-item "><a href="/docs/how-tos/import-data/" class="navigation-list-link">Import and Clean CSV Data</a><li class="navigation-list-item "><a href="/docs/how-tos/query/" class="navigation-list-link">Query</a><li class="navigation-list-item "><a href="/docs/how-tos/schema/" class="navigation-list-link">Create Schema</a><li class="navigation-list-item "><a href="/docs/how-tos/python" class="navigation-list-link">Python How Tos</a><li class="navigation-list-item "><a href="/docs/how-tos/beta/" class="navigation-list-link">Accessing TerminusHub with Bootstrap - Certificate Help</a></ul><li class="navigation-list-item active"><a href="/docs/discussion" class="navigation-list-link">Discussion</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/discussion/baisc/" class="navigation-list-link">Basic Ideas</a><li class="navigation-list-item "><a href="/docs/discussion/collaboration/" class="navigation-list-link">Collaboration</a><li class="navigation-list-item "><a href="/docs/discussion/branch/" class="navigation-list-link">Branching and Merging</a><li class="navigation-list-item "><a href="/docs/discussion/storage/" class="navigation-list-link">Storage</a><li class="navigation-list-item "><a href="/docs/discussion/data-model/" class="navigation-list-link">Data Modeling</a><li class="navigation-list-item active"><a href="/docs/discussion/query/" class="navigation-list-link active">Querying</a><li class="navigation-list-item "><a href="/docs/discussion/reserach/" class="navigation-list-link">Research Papers</a></ul><li class="navigation-list-item"><a href="/docs/release-notes/" class="navigation-list-link">Release notes</a><ul class="navigation-list-child-list "><li class="navigation-list-item "><a href="/docs/release-notes/upgrade/" class="navigation-list-link">Upgrade</a></ul><li class="navigation-list-item"><a href="/docs/frequently-asked-questions/" class="navigation-list-link">FAQs</a></ul></nav></div><footer class="site-footer"><p class="text-small text-grey-dk-000 mb-4">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p></footer></div><div class="main-content-wrap js-main-content" tabindex="0"><div class="main-content"><div class="page-header js-page-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Graph Database Documentation" aria-label="Search Graph Database Documentation" autocomplete="off"> <label for="search-input" class="search-label"> <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg> </label></div><div id="search-results" class="search-results"></div></div></div><header class="header header--dark"><div class="wrapper wrapper--increased"><nav class="menu"><div class="menu__body"><ul class="menu__list"><li class="menu__item"> <a href="https://terminusdb.com/documentation/" target="_self" class="menu__link menu__link--active" aria-label="Documentation"> Documentation </a><li class="menu__item"> <a href="https://terminusdb.com/community/" target="_self" class="menu__link " aria-label="Community"> Community </a><li class="menu__item"> <a href="https://terminusdb.com/blog/" target="_self" class="menu__link" aria-label="Blog"> Blog </a><li class="menu__item"> <a href="https://terminusdb.com/hub/" target="_self" class="menu__link" aria-label="Blog"> Terminus Hub </a><li class="menu__item menu__item--full-devices"><ul class="menu__social-list"><li class="menu__social-item"> <a href="https://twitter.com/TerminusDB" class="menu__social-link" target="_blank"> <i class="icon-twitter menu__icon"></i> </a><li class="menu__social-item"> <a href="https://github.com/terminusdb/terminusdb-server" class="menu__social-link" target="_blank" aria-label="Github link"> <i class="icon-github-logo menu__icon"></i> </a><li class="menu__social-item"><a href="https://www.youtube.com/channel/UC5kZt8pP-FM0u-R0BQr78YA/featured" class="menu__social-link" target="_blank"><i class="icon-youtube menu__icon"></i></a><li class="menu__social-item"><a href="https://www.linkedin.com/company/terminusdb/" class="menu__social-link" target="_blank"><i class="icon-linkedin menu__icon"></i></a></ul><li class="menu__item menu__item--full-devices"> <a href="https://terminusdb.com/hub/download" target="_self" class="menu__button" aria-label="Download center"> Download Center </a></ul><ul class="menu__footer"><li class="menu__secondary-item"> <a href="https://terminusdb.com" role="button"> <img src="https://terminusdb.com/img/logos/logo.svg" class="menu__secondary-logo" alt="Terminus DB logo"> </a><li class="menu__secondary-item"><p class="menu__copyright"> ©2020 - TerminusDB | All right reserved</p></ul></div><button id="burger" class="menu__burger" role="button" aria-label="Navigation burger button"> <span></span> <span></span> <span></span> </button></nav></div></header><div class="page"><nav class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/docs/discussion">Discussion</a><li class="breadcrumb-nav-list-item"><span>Querying</span></ol></nav><div id="main-content" class="page-content" role="main"><h1 id="querying"> <a href="#querying" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Querying</h1><h1 id="introduction"> <a href="#introduction" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Introduction</h1><p>While WOQL is a very powerful and sophisticated query language that allows you to concisely express very complex patterns over arbitrary data structures, what really makes it so expressive and easy to use is the radical simplicity of the core underlying concepts.</p><p>To unleash the power of WOQL, you just need to understand two very simple things.</p><h2 id="rule-1-triples-all-the-way-down"> <a href="#rule-1-triples-all-the-way-down" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Rule 1. Triples all the way down</h2><p>In TerminusDB every single fragment of information is always and universally stored and accessible as triples. Triples are the universal and fundamental atom of information in TerminusDB - objects and documents and everything else are stored as collections of triples and it is always possible to break any object down in a reliable and deterministic way into a precise set of triples. Not only that, TerminusDB also adheres to the RDF standard, which means all triples have a regular structure and interpretation and strong norms. From a query writer point of view, this regularity is very helpful - you don’t have to care about the low-level structure of the data (what table it is stored in, how many columns there are, etc.), you just have to care about the patterns of meaning you are interested in.</p><p>A triple is just a data structure with three slots in which we can put values. Each row in the table below shows a different view of what each of the three slots means</p><h3 id="three-is-the-magic-number---understanding-triples"> <a href="#three-is-the-magic-number---understanding-triples" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> Three is the Magic Number - Understanding Triples</h3><div class="table-wrapper"><table><tbody><tr><td>Form<td>Triple Slot 1<td>Triple Slot 2<td>Triple Slot 3<tr><td><strong>Terminus DB Terminology</strong><td><strong>Object ID</strong><td><strong>Property</strong><td><strong>Value</strong><tr><td>Triple Example 1<td>joe<td><code class="highlighter-rouge">date_born</code><td><code class="highlighter-rouge">1/2/34</code><tr><td>Example 1 Interpretation<td>The record with ID <code class="highlighter-rouge">joe</code><td>has a property called <code class="highlighter-rouge">date_born</code><td>with Value <code class="highlighter-rouge">1/2/34</code><tr><td>Triple Example 2<td><code class="highlighter-rouge">joe</code><td><code class="highlighter-rouge">parent</code><td><code class="highlighter-rouge">mary</code><tr><td>Example 2 Interpretation<td>The record with ID <code class="highlighter-rouge">joe</code><td>has a property named <code class="highlighter-rouge">parent</code><td>with Value <code class="highlighter-rouge">mary</code></table></div><p>Every triple with the same ID is interpreted as being <em>about the same thing</em>. So if we add triples with different properties to our database which have the same IDs, they will be interpreted as representing different properties of the same thing. That’s how we build up information about things - just add properties to the appropriate record ID. The magic of triples is that the Value of a triple can be another record ID (as in the joe <em>mother</em> mary example) - IDs can appear in either the first or the third slot of the triple.</p><p>Writing the above examples into TerminusDB with WOQL</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.</span><span class="nx">add_triple</span><span class="p">(</span><span class="dl">'</span><span class="s1">joe</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">date_born</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">1/2/34</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">add_triple</span><span class="p">(</span><span class="dl">'</span><span class="s1">joe</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">parent</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">mary</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div><h2 id="-rule-2-unify-all-the-things"> <a href="#-rule-2-unify-all-the-things" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> <a href="https://terminusdb.com/docs/user-guide/query/simple-query/#rule-2-unify-all-the-things"></a> Rule 2 Unify All The Things</h2><p>The second fundamental concept behind WOQL is unification. This is an old computer science concept that has been polished and refined for 60 years and is defined in obscure mathematical jargon, but it is remarkably simple and intuitive to understand by example.</p><h3 id="-woql-variables"> <a href="#-woql-variables" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> <a href="https://terminusdb.com/docs/user-guide/query/simple-query/#woql-variables"></a> WOQL Variables</h3><p>In WOQL we have the concept of variables, which are normally represented by a string that starts with <code class="highlighter-rouge">v:</code> - we use them to store the results of queries. For example, we might define variables like <code class="highlighter-rouge">v:First Name</code> , <code class="highlighter-rouge">v:Family Name</code>, <code class="highlighter-rouge">v:Date of Birth</code> for a query to find somebody’s basic identifying information.</p><p>If we use a variable in a triple query, TerminusDB will show us every possible value that exists in the database that could possibly fill that variable in that position in the query.</p><h4 id="-single-variable-triple-pattern-examples"> <a href="#-single-variable-triple-pattern-examples" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> <a href="https://terminusdb.com/docs/user-guide/query/simple-query/#single-variable-triple-pattern-examples"></a> Single Variable Triple Pattern Examples</h4><p>Putting a variable in the first slot of the triple will find the IDs of all the Objects that have a specific property set to the specified value</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">'</span><span class="s1">v:Person ID</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">date_born</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">1/2/34</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div><p>Putting a variable in the second slot will find the names of all the properties that the specified object has which have that value</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// returns list of all the properties of joe that have a value equal to 10</span>
<span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">'</span><span class="s1">joe</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">v:Property List</span><span class="dl">'</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div><p>Putting a variable in the third slot will find the value(s) of the specified property for the specified object ID:</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">'</span><span class="s1">joe</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">parent</span><span class="dl">'</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Joes Parents</span><span class="dl">"</span><span class="p">)</span>
</code></pre></div></div><h4 id="-two-variable-triple-pattern-examples"> <a href="#-two-variable-triple-pattern-examples" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> <a href="https://terminusdb.com/docs/user-guide/query/simple-query/#two-variable-triple-pattern-examples"></a> Two-Variable Triple Pattern Examples</h4><p>Putting a variable in the first two slots of the triple will find all object IDs and properties in the database that have the specified value</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//list of all objects and property names that have the value 10</span>
 <span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">'</span><span class="s1">v:Object ID</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">v:Properties</span><span class="dl">'</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</code></pre></div></div><p>Putting variables in the first and third slots will find the names of all the properties that the specified object has which have that value</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// returns list of all object ids and the values of theie date_born properties</span>
<span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">'</span><span class="s1">v:Object ID</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">date_born</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">v:Date of Births</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div><p>Putting variables in the second and third slot find all the properties and their values for the object with the specified ID:</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">'</span><span class="s1">joe</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">v:Joes Properties</span><span class="dl">'</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Property Values</span><span class="dl">"</span><span class="p">)</span>
</code></pre></div></div><p>The third and final pattern is easiest still - putting variables in all 3 of the slots will match every single triple in the database. In fact, because this is so useful, WOQL provides a special built in shortcut for generating this pattern:</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//generates a triple query with variables in all 3 spots - returns all triples in the database</span>
<span class="nx">WOQL</span><span class="p">.</span><span class="nx">star</span><span class="p">()</span>
</code></pre></div></div><h3 id="-logical-operators"> <a href="#-logical-operators" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> <a href="https://terminusdb.com/docs/user-guide/query/simple-query/#logical-operators"></a> Logical Operators</h3><p>Single triple pattern matching like the above is certainly neat, but there’s a limited number of things that can be expressed as a single pattern of triples, even with all our variables turned on. However, WOQL also provides logical operators, AND, OR which allow you to combine as many basic patterns as you like into incredibly expressive queries in very simple forms.</p><p>The most useful operator is logical AND - <code class="highlighter-rouge">WOQL.and()</code> which behaves as we would logically expect - if all of the patterns defined within a <code class="highlighter-rouge">WOQL.and()</code> can be filled by the database, all of the results will be returned, otherwise, no results will be returned.</p><p>The other basic logical operators: OR - <code class="highlighter-rouge">WOQL.or()</code> and NOT - <code class="highlighter-rouge">WOQL.not()</code> are also very useful - they are interpreted also as expected - in the first case, the query will return the first result that it matches in a list of possibilities, in the second case, the query will only return true if the pattern specified is not found in the database.</p><p>Below are some simple examples of using these logical operators in practice. It is amazing how many things you can readily express simply by combining these patterns in different ways. Extreme simplicity and absolute regularity in the little things allow extreme elegance of description in the big things.</p><h2 id="-thats-not-all-folks"> <a href="#-thats-not-all-folks" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#link"></use></svg></a> <a href="https://terminusdb.com/docs/user-guide/query/simple-query/#thats-not-all-folks"></a> That’s not all folks</h2><p>One other huge advantage of a simple and regular underlying architecture is that it becomes much easier to build extra functionality on top. In addition to the basic ideas presented here, WOQL also has a broad set of built-in operators and libraries which cover arithmetic, mathematical, date and time, taxonomy specific patterns, aggregation, ordering, grouping, geographical and a wide range of other functions out of the box. This allows you to move a lot of your logic into the Database Layer and out of your application code - the database should be the only thing that cares about the structure of the storage layer, the rest of us care about getting the data we want out!</p><p>The rest of this chapter contains lots of information about all the functions and operators that WOQL provides and how you can access them, but before you leave, we have a question to ask.</p><p>I want to ask my database for the full records of all living people whose direct ancestors were born in Italy before 1850 (assuming I have the records of course) along with their lineage.</p><p>In WOQL my query would look like this:</p><div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.(</span><span class="dl">"</span><span class="s2">v:Living Person Record ID</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">alive</span><span class="dl">"</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">path</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Living Person Record ID</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">parent+</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Italian Ancestor</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Ancestry Line</span><span class="dl">"</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Italian Ancestor</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">date_born</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Date of Birth</span><span class="dl">"</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">less</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Date of Birth</span><span class="dl">"</span><span class="p">,</span> <span class="mi">1850</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Italian Ancestor</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">country_born</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Italy</span><span class="dl">"</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">get_object</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Living Person Record ID</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Full Record</span><span class="dl">"</span><span class="p">)</span>
</code></pre></div></div><p>How would you ask your database this question?</p><hr><footer role="contentinfo"><p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2020 - TerminusDB | Distributed by an <a href="https://github.com/terminusdb/terminusdb-server/blob/master/LICENSE">GPL-3.0 license.</a></p></footer></div></div></div></div><script> var o = document.querySelector(".header"), i = document.querySelector(".menu__body"), a = document.querySelector("#burger"); a && a.addEventListener("click", function () { a.classList.toggle("active"), o.classList.toggle("active"), i.classList.toggle("active"); }); window.addEventListener('resize',function(){ a.classList.remove("active"), o.classList.remove("active"), i.classList.remove("active"); }) </script>
